<title>Account Settings - Windows U</title>
<link rel="shortcut icon" href="/WindowsU/C/Windows/System92/icons/Main.png" type="image/x-icon">
<link rel="apple-touch-icon" href="/WindowsU/C/Windows/System92/icons/Main.png" type="image/x-icon">
<style>
  body {
    margin:0;
  }
</style>
<body onload="Loaded();">
  <div style="top:0;width:100%;height:40;" id="topwindowbar">
    <img style="display:none;right:0;position:absolute;" onclick="alert('Your PC will need to restart.');window.close();window.location.href = '/WindowsU/';" src="/WindowsU/C/Windows/System92/icons/Close.ico" alt="" width="40" height="40">
    <img style="left:0;position:absolute;" onclick="window.history.back();" src="/WindowsU/C/Windows/System92/icons/Back.png" alt="" width="40" height="40">
  </div>
  <div style="padding:20;display:inline-grid;">
    <img style="padding:5" id="ProfilePic" src="" alt="" width="220" height="220">
    <button id="ChangeProfilePicButton" onclick="ChangeProfilePicture();">Change Profile Picture</button>
  </div>
  <div style="padding:20;display:inline-grid;">
    <input type="text" placeholder="New Name" id="NameInput">
    <button id="ChangeNameButton" onclick="ChangeAccountName()">Change Account Name</button>
  </div>
  <div style="padding:20;display:inline-grid;">
    <input type="text" placeholder="New Password" id="PasswordInput">
    <button id="ChangePasswordButton" onclick="ChangePassword()">Change Password</button>
  </div>
</body>

<style>
#ChangeProfilePicButton {
    background-color: #357EC7;
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    //display: inline-grid;
    font-size: 16px;
    //margin: 4px 2px;
    cursor: pointer;
}
#ChangeNameButton {
    background-color: #357EC7;
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    //display: inline-block;
    font-size: 16px;
    //margin: 4px 2px;
    cursor: pointer;
}
#ChangePasswordButton {
    background-color: #357EC7;
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    //display: inline-block;
    font-size: 16px;
    //margin: 4px 2px;
    cursor: pointer;
}
</style>

<script>
  document.getElementById("topwindowbar").style.backgroundColor = "#357EC7";
  document.getElementById("ProfilePic").style.backgroundColor = "#357EC7";
  document.getElementById("ChangeProfilePicButton").style.backgroundColor = "#357EC7";
  document.getElementById("ChangeNameButton").style.backgroundColor = "#357EC7";
  document.getElementById("ChangePasswordButton").style.backgroundColor = "#357EC7";
  function Loaded() {
    Color();
    document.getElementById("ProfilePic").src = localStorage.ProfilePicture;
  }
  function Color() {
    document.getElementById("topwindowbar").style.backgroundColor = localStorage.WindowsU_Color;
    document.getElementById("ProfilePic").style.backgroundColor = localStorage.WindowsU_Color;
    document.getElementById("ChangeProfilePicButton").style.backgroundColor = localStorage.WindowsU_Color;
    document.getElementById("ChangeNameButton").style.backgroundColor = localStorage.WindowsU_Color;
    document.getElementById("ChangePasswordButton").style.backgroundColor = localStorage.WindowsU_Color;
  }
  
  function ChangeProfilePicture() {
    var profileurl = prompt('Type in the url of the link ');
    toDataURL(profileurl, function(dataUrl) {
  	  localStorage.ProfilePicture = dataUrl;
      //window.open("SeeProfilePic.html");
      window.location.reload();
    })
  }
  
function ChangeAccountName() {
NameEntered = document.getElementById("NameInput").value;
localStorage.Name = NameEntered;
alert("Changed");
}

function ChangePassword() {
PasswordEntered = document.getElementById("PasswordInput").value;
localStorage.WindowsUAccountPassword = PasswordEntered;
alert("Changed");
}
  
function toDataURL(url, callback) {
  var xhr = new XMLHttpRequest();
  xhr.onload = function() {
    var reader = new FileReader();
    reader.onloadend = function() {
      callback(reader.result);
    }
    reader.readAsDataURL(xhr.response);
  };
  xhr.open('GET', url);
  xhr.responseType = 'blob';
  xhr.send();
}
</script>
